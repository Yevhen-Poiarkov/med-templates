<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>–®–∞–±–ª–æ–Ω–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó</title>

  <!-- –ó–∞–±–æ—Ä–æ–Ω—è—î–º–æ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—é -->
  <meta name="robots" content="noindex" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#3f51b5" />

  <style>
    body{font-family:system-ui,sans-serif;margin:0;padding:0 1rem;background:#f5f5f5}
    header{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}
    h1{margin:0;font-size:20px}
    #editToggle{padding:6px 12px;cursor:pointer}
    #buttons button{margin:4px;padding:6px 12px;cursor:pointer}
    .text-block{background:#fff;padding:10px;margin:6px 0;border:1px solid #ccc;border-radius:6px}
    textarea{width:100%;height:60px;resize:vertical;margin-top:4px}
    .controls{margin-top:4px;display:flex;gap:6px}
  </style>

  <!-- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>
</head>
<body>
  <header>
    <h1>–®–∞–±–ª–æ–Ω–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó</h1>
    <button id="editToggle">üñäÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
  </header>

  <div id="buttons"></div><hr />
  <div id="content"></div>
  
<button id="installPWA" style="display:none;margin:8px 0;">‚¨áÔ∏è –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫</button>

<script>
  /* ===== PWA-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è ===== */
  let deferredPrompt;
  const installBtn = document.getElementById('installPWA');

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();           // –±–ª–æ–∫—É—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –±–∞–Ω–µ—Ä
    deferredPrompt = e;           // –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ–¥—ñ—é
    installBtn.style.display = 'block';
  });

  installBtn.addEventListener('click', async () => {
    if (!deferredPrompt) return;
    deferredPrompt.prompt();                      // –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ —Å–∏—Å—Ç–µ–º–Ω–∏–π –±–∞–Ω–µ—Ä
    const { outcome } = await deferredPrompt.userChoice;
    if (outcome === 'accepted') console.log('PWA –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
    deferredPrompt = null;
    installBtn.style.display = 'none';
  });
</script>
  
  <script src="app.js"></script>
</body>
</html>
